<html
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Operações Bancárias</title>
</head>
<body>
  <script>
    var nome = prompt("Olá, Digite o seu nome:");
    alert(`Olá ${nome}, é um prazer te conhecer!`);

    var saldo = 100.5; // Saldo inicial
    var senhaAcesso = "3589";

    function inicio() {
      verificarSenha();

      var escolha = parseInt(prompt(
        "Selecione uma opção:\n1. Saldo\n2. Depósito\n3. Saque\n4. Extrato\n5. Transferência\n6. Sair"
      ));

      switch (escolha) {
        case 1:
          verSaldo();
          break;
        case 2:
          fazerDeposito();
          break;
        case 3:
          fazerSaque();
          break;
        case 4:
          verExtrato();
          break;
        case 5:
          fazerTransferencia();
          break;
        case 6:
          sair();
          break;
        default:
          erro();
      }
    }

    function verificarSenha() {
      var senhaUsuario = prompt("Por favor, digite sua senha:");
      if (senhaUsuario !== senhaAcesso) {
        alert("Senha incorreta. Tente novamente.");
        verificarSenha();
      } else {
        alert("Senha correta. Bem vindo(a).");
      }
    }

    function verSaldo() {
      verificarSenha();
      alert("Seu saldo atual é: " + saldo);
      inicio();
    }

    function fazerDeposito() {
      verificarSenha();
      var deposito = parseFloat(prompt("Qual o valor para depósito?"));

      if (isNaN(deposito) || deposito <= 0) {
        alert("Operação negada. Valor de depósito inválido.");
        fazerDeposito();
      } else {
        saldo += deposito;
        alert("Depósito realizado com sucesso. Novo saldo: " + saldo);
        inicio();
      }
    }

    function fazerSaque() {
      verificarSenha();
      var saque = parseFloat(prompt("Qual o valor para saque?"));

      if (isNaN(saque) || saque <= 0 || saque > saldo) {
        alert("Operação negada. Valor de saque inválido ou saldo insuficiente.");
        fazerSaque();
      } else {
        saldo -= saque;
        alert("Saque realizado com sucesso. Novo saldo: " + saldo);
        inicio();
      }
    }

    function verExtrato() {
      verificarSenha();
      alert("Compra no MC Donalds R$ 16,00, Compra na AMAZON R$ 400");
      inicio();
    }

    function fazerTransferencia() {
      verificarSenha();
      var conta = parseFloat(prompt("Digite o número da conta que deseja transferir o valor: "));
      var valorTransferencia = parseFloat(prompt("Digite o valor da transferência: "));

      if (isNaN(conta) || isNaN(valorTransferencia) || valorTransferencia <= 0 || valorTransferencia > saldo) {
        alert("Operação não autorizada. Verifique os valores informados.");
        fazerTransferencia();
      } else {
        saldo -= valorTransferencia;
        alert("Transferência realizada com sucesso.");
        inicio();
      }
    }

    function erro() {
      alert("Por favor, informe um número entre 1 e 6");
      inicio();
    }

    function sair() {
      var confirma = confirm("Você deseja sair?");
      if (confirma) {
        alert(`Obrigado por utilizar os serviços do banco, ${nome}!`);
        window.close();
      } else {
        inicio();
      }
    }

    inicio();
  </script>
</body>
</html>